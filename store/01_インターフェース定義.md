Vuexï¼ˆ+ TypeScriptï¼‰ã§ã®çŠ¶æ…‹ç®¡ç†ã«ãŠã„ã¦ã€**`state` ã®å„é …ç›®ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã§ã‚ã‚‹å ´åˆã€å‹å®‰å…¨æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã«å¯¾å¿œã™ã‚‹ `interface` ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒæ¨å¥¨**ã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã€æ•´ç†ã—ã¦èª¬æ˜ã—ã¾ã™ã€‚

---

## âœ… åŸºæœ¬æ–¹é‡

### 1. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã« State ç”¨ interface ã‚’å®šç¾©**

* å„ Vuex ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `state` ã«å¯¾ã—ã¦ã€ãã®æ§‹é€ ã‚’è¡¨ã™ `interface` ã‚’ä½œæˆã™ã‚‹ã€‚

```ts
// userModule.ts
export interface UserState {
  id: string;
  name: string;
  profile: UserProfile; // åˆ¥ interface
}
```

---

### 2. **state ã®ä¸­ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã¯ã€ãã®æ§‹é€ ã«ã‚‚ interface ã‚’å®šç¾©**

* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¤‡é›‘åŒ–ã™ã‚‹ã»ã©å‹ã‚’åˆ†ã‘ã‚‹ã¹ãã§ã™ï¼ˆè²¬å‹™ãŒæ˜ç¢ºã«ãªã‚Šã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ¥½ã«ãªã‚Šã¾ã™ï¼‰ã€‚

```ts
// userModule.ts
export interface UserProfile {
  age: number;
  email: string;
  address?: Address; // ãƒã‚¹ãƒˆã—ã¦ã‚‚ interface
}

export interface Address {
  city: string;
  zip: string;
}
```

---

### 3. **å°ã•ã„æ§‹é€ ã‚„ä¸€æ™‚çš„ãªç”¨é€”ãªã‚‰ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å‹ã§æ¸ˆã¾ã›ã¦ã‚‚ã‚ˆã„**

* å˜ç´”ãªæ§‹é€ ï¼ˆãŸã¨ãˆã° `{ flag: boolean }` ã®ã‚ˆã†ãªï¼‰ãªã‚‰ã€æ˜ç¤ºçš„ã« interface ã‚’åˆ‡ã‚‰ãªãã¦ã‚‚ OKã€‚

```ts
interface SimpleState {
  loadingStatus: { flag: boolean }  // inlineå‹ã§ã‚‚å‹å®‰å…¨ã¯æ‹…ä¿ã•ã‚Œã‚‹
}
```

---

## ğŸ“˜ ã‚µãƒ³ãƒ—ãƒ«æ§‹æˆï¼ˆå…¸å‹ï¼‰

```ts
// store/modules/user.ts
import { Module } from 'vuex';
import { RootState } from '../index';

export interface UserProfile {
  email: string;
  age: number;
}
export interface UserState {
  id: string;
  name: string;
  profile: UserProfile;
}

const state: UserState = {
  id: '',
  name: '',
  profile: {
    email: '',
    age: 0,
  },
};

export const user: Module<UserState, RootState> = {
  namespaced: true,
  state,
  getters: {
    userEmail: (state) => state.profile.email,
  },
  mutations: {
    setUser(state, payload: Partial<UserState>) {
      Object.assign(state, payload);
    },
  },
  actions: {
    async fetchUser({ commit }) {
      const data = await fetchUserFromAPI();
      commit('setUser', data);
    },
  },
};
```

---

## âœ… çµè«–

| çŠ¶æ³                                 | interface å¿…è¦æ€§ | ç†ç”±               |
| ---------------------------------- | ------------- | ---------------- |
| `state` ãŒãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ï¼ˆstring, numberãªã©ï¼‰ | âŒ ä¸è¦          | æ˜ç¤ºã™ã‚‹æ„å‘³ãŒè–„ã„        |
| `state` ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹                   | âœ… å®šç¾©æ¨å¥¨        | å‹è£œå®Œã€èª¤å…¥åŠ›é˜²æ­¢ã€ä¿å®ˆæ€§å‘ä¸Š  |
| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒã‚¹ãƒˆãŒæ·±ã„                      | âœ… å®šç¾©æ¨å¥¨        | åˆ†å‰²ãƒ»è²¬å‹™åˆ†é›¢ã§ç®¡ç†ã—ã‚„ã™ããªã‚‹ |

---

## ğŸš€ è£œè¶³ï¼šinterface å‘½åãƒ«ãƒ¼ãƒ«ã®ä¸€ä¾‹

* `XXXState`ï¼šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®çŠ¶æ…‹ç”¨
* `XXXItem` or `XXXInfo`ï¼šstate å†…ã®è¦ç´ æ§‹é€ 
* `XXXPayload`ï¼šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®å¼•æ•°å®šç¾©

---

å¿…è¦ã§ã‚ã‚Œã°ã€ã‚ãªãŸã® `state` å…·ä½“ä¾‹ã«å³ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚‚ä½œæˆã§ãã¾ã™ã€‚ãŠæ°—è»½ã«ã©ã†ãã€‚
